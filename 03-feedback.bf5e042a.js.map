{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASC,cAAc,SACpCE,EAAcH,SAASC,cAAc,YAErCG,GADYL,EAAKM,iBACH,uBAEpBC,OAAOC,iBAAiB,QAOxB,WACE,GAAwC,IAApCC,OAAOC,KAAKC,GAAaC,OAI3B,OAHAT,EAAWU,MAAQF,EAAYG,MAC/BV,EAAYS,MAAQF,EAAYI,O,IARpC,IAAMC,EAAkBC,aAAaC,QAAQb,GACvCM,EAAcK,EAChBG,KAAKC,MAAMJ,GACX,CAAEF,MAAO,GAAIC,QAAS,IAW1Bf,EAAKQ,iBAAiB,QAASa,EAAAvB,GAAEwB,UAEjC,SAAqBC,GACnB,IAAMC,EAAYD,EAAME,OAAOC,aAAa,QAE1B,UAAdF,GAAuC,YAAdA,IAC3Bb,EAAYa,GAAaD,EAAME,OAAOZ,MAAMc,OAE5CV,aAAaW,QAAQvB,EAAac,KAAKU,UAAUlB,I,GARE,MAYvDX,EAAKQ,iBAAiB,UAEtB,SAAsBe,GACpBA,EAAMO,iBACN,IAAMC,EAAa,CACjBjB,MAAOX,EAAWU,MAAMc,OACxBZ,QAASX,EAAYS,MAAMc,QAE7BK,QAAQC,IAAIF,GACZd,aAAaiB,WAAW7B,GACxBF,EAAWU,MAAQ,GACnBT,EAAYS,MAAQ,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('input');\nconst messageArea = document.querySelector('textarea');\nconst submitBtn = form.lastElementChild;\nconst LS_FORM_KEY = 'feedback-form-state';\n\nwindow.addEventListener('load', handlePageLoad);\n\nconst existingObjJSON = localStorage.getItem(LS_FORM_KEY);\nconst existingObj = existingObjJSON\n  ? JSON.parse(existingObjJSON)\n  : { email: '', message: '' };\n\nfunction handlePageLoad() {\n  if (Object.keys(existingObj).length !== 0) {\n    emailInput.value = existingObj.email;\n    messageArea.value = existingObj.message;\n  } else {\n    return;\n  }\n}\n\nform.addEventListener('input', _.throttle(handleInput, 500));\n\nfunction handleInput(event) {\n  const fieldName = event.target.getAttribute('name');\n\n  if (fieldName === 'email' || fieldName === 'message') {\n    existingObj[fieldName] = event.target.value.trim();\n\n    localStorage.setItem(LS_FORM_KEY, JSON.stringify(existingObj));\n  }\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const submitData = {\n    email: emailInput.value.trim(),\n    message: messageArea.value.trim(),\n  };\n  console.log(submitData);\n  localStorage.removeItem(LS_FORM_KEY);\n  emailInput.value = '';\n  messageArea.value = '';\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailInput","$b00c40859be242c5$var$messageArea","$b00c40859be242c5$var$LS_FORM_KEY","lastElementChild","window","addEventListener","Object","keys","$b00c40859be242c5$var$existingObj","length","value","email","message","$b00c40859be242c5$var$existingObjJSON","localStorage","getItem","JSON","parse","$parcel$interopDefault","throttle","event","fieldName","target","getAttribute","trim","setItem","stringify","preventDefault","submitData","console","log","removeItem"],"version":3,"file":"03-feedback.bf5e042a.js.map"}